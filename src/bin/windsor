#!/usr/bin/php
<?php

if (php_sapi_name() !== 'cli') {
    exit;
}

$root_app = realpath(".");

if (!is_file($root_app . '/vendor/autoload.php')) {
    exit(1);
}

require $root_app . '/vendor/autoload.php';

use Minicli\App;
use Minicli\Command\CommandCall;

//$app = new App();
//$input = new CommandCall($argv);

//$app->registerCommand('help', function() use ($app) {
//    $app->getPrinter()->info("minicli help");
//});
//
//$app->runCommand($input->getRawArgs());

\App\XQL\Dev\CLI\CommandRegistry::createApp($argv);